<app-client-layout>
  <div class="page">
    <header class="page-header">
      <h1>üë§ Mon profil</h1>
      <p>Mettez √† jour vos informations personnelles.</p>
    </header>

    <div *ngIf="loading" class="empty">Chargement...</div>
    <div *ngIf="!loading" class="form-card">
      <div *ngIf="success" class="success">{{ success }}</div>
      <div *ngIf="error" class="error">{{ error }}</div>

      <form (ngSubmit)="saveProfile()" class="form">
        <label>Pr√©nom</label>
        <input type="text" [(ngModel)]="profile.first_name" name="first_name" required />

        <label>Nom</label>
        <input type="text" [(ngModel)]="profile.last_name" name="last_name" required />

        <label>Email</label>
        <input type="email" [(ngModel)]="profile.email" name="email" required />

        <label>Soci√©t√©</label>
        <input type="text" [(ngModel)]="profile.company_name" name="company_name" />

        <label>T√©l√©phone</label>
        <input type="text" [(ngModel)]="profile.phone" name="phone" />

        <label>Adresse</label>
        <input type="text" [(ngModel)]="profile.address" name="address" />

        <button class="btn">Enregistrer</button>
      </form>

      <div class="password-card">
        <h3>Modifier mon mot de passe</h3>
        <div *ngIf="passwordSuccess" class="success">{{ passwordSuccess }}</div>
        <div *ngIf="passwordError" class="error">{{ passwordError }}</div>

        <form (ngSubmit)="changePassword()" class="form">
          <label>Mot de passe actuel</label>
          <input type="password" [(ngModel)]="currentPassword" name="currentPassword" required />

          <label>Nouveau mot de passe</label>
          <input type="password" [(ngModel)]="newPassword" name="newPassword" required />

          <label>Confirmer le nouveau mot de passe</label>
          <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" required />

          <p class="hint">8 caract√®res min, 1 majuscule, 1 minuscule, 1 chiffre, 1 sp√©cial.</p>

          <button class="btn">Changer le mot de passe</button>
        </form>
      </div>

      <div class="danger-zone">
        <h3>Suppression du compte</h3>
        <p>Cette action supprimera d√©finitivement toutes vos informations.</p>
        <button type="button" class="btn danger" (click)="deleteAccount()">Supprimer mon compte</button>
      </div>
    </div>
  </div>
</app-client-layout>
