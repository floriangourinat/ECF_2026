<div class="events-container">
  <app-header></app-header>

  <section class="hero">
    <h1>Nos √âv√©nements</h1>
    <p>D√©couvrez les √©v√©nements exceptionnels r√©alis√©s par Innov'Events</p>
  </section>

  <section class="filters-section">
    <div class="filters">
      <div class="filter-group">
        <label for="filterType">Type d'√©v√©nement</label>
        <select id="filterType" [(ngModel)]="filterType" (change)="applyFilters()">
          <option *ngFor="let type of eventTypes" [value]="type.value">{{ type.label }}</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterTheme">Th√®me</label>
        <select id="filterTheme" [(ngModel)]="filterTheme" (change)="applyFilters()">
          <option *ngFor="let theme of themes" [value]="theme.value">{{ theme.label }}</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterDateStart">Date d√©but</label>
        <input type="date" id="filterDateStart" [(ngModel)]="filterDateStart" (change)="applyFilters()">
      </div>

      <div class="filter-group">
        <label for="filterDateEnd">Date fin</label>
        <input type="date" id="filterDateEnd" [(ngModel)]="filterDateEnd" (change)="applyFilters()">
      </div>

      <div class="filter-group">
        <label for="sortOrder">Tri par date</label>
        <select id="sortOrder" [(ngModel)]="sortOrder" (change)="applySorting()">
          <option value="desc">Plus r√©cents</option>
          <option value="asc">Plus anciens</option>
        </select>
      </div>

      <button class="btn-reset" (click)="resetFilters()">R√©initialiser</button>
    </div>
  </section>

  <section class="events-section">
    <div *ngIf="loading" class="loading">
      <p>Chargement des √©v√©nements...</p>
    </div>

    <div *ngIf="error" class="error">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && filteredEvents.length === 0" class="no-events">
      <p>Aucun √©v√©nement trouv√© avec ces crit√®res.</p>
    </div>

    <div class="events-grid" *ngIf="!loading && filteredEvents.length > 0">
      <article class="event-card" *ngFor="let event of filteredEvents">
        <div class="event-image">
          <img [src]="getEventImage(event.image_path)" [alt]="event.name" (error)="onImageError($event)">
          <span class="event-type-badge">{{ event.event_type }}</span>
        </div>
        <div class="event-content">
          <h3>{{ event.name }}</h3>
          <p class="event-date">üìÖ {{ formatDate(event.start_date) }}</p>
          <p class="event-location">üìç {{ event.location }}</p>
          <p class="event-theme" *ngIf="event.theme">üé® {{ event.theme }}</p>
          <a [routerLink]="['/events', event.id]" class="btn-details">Voir les d√©tails</a>
        </div>
      </article>
    </div>
  </section>

  <app-footer></app-footer>
</div>
