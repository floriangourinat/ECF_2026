<div class="events-container">
  <app-header></app-header>

  <section class="hero">
    <h1>Nos Ã‰vÃ©nements</h1>
    <p>DÃ©couvrez les Ã©vÃ©nements exceptionnels rÃ©alisÃ©s par Innov'Events</p>
  </section>

  <section class="filters-section">
    <div class="filters">
      <div class="filter-group">
        <label for="filterType">Type d'Ã©vÃ©nement</label>
        <select id="filterType" [(ngModel)]="filterType" (change)="applyFilters()">
          <option *ngFor="let type of eventTypes" [value]="type.value">{{ type.label }}</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterTheme">ThÃ¨me</label>
        <select id="filterTheme" [(ngModel)]="filterTheme" (change)="applyFilters()">
          <option *ngFor="let theme of themes" [value]="theme.value">{{ theme.label }}</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterDateStart">Date dÃ©but</label>
        <input type="date" id="filterDateStart" [(ngModel)]="filterDateStart" (change)="applyFilters()">
      </div>

      <div class="filter-group">
        <label for="filterDateEnd">Date fin</label>
        <input type="date" id="filterDateEnd" [(ngModel)]="filterDateEnd" (change)="applyFilters()">
      </div>

      <button class="btn-reset" (click)="resetFilters()">RÃ©initialiser</button>
    </div>
  </section>

  <section class="events-section">
    <div *ngIf="loading" class="loading">
      <p>Chargement des Ã©vÃ©nements...</p>
    </div>

    <div *ngIf="error" class="error">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && filteredEvents.length === 0" class="no-events">
      <p>Aucun Ã©vÃ©nement trouvÃ© avec ces critÃ¨res.</p>
    </div>

    <div class="events-grid" *ngIf="!loading && filteredEvents.length > 0">
      <article class="event-card" *ngFor="let event of filteredEvents">
        <div class="event-image">
          <img [src]="getEventImage(event.image_path)" [alt]="event.name" (error)="onImageError($event)">
          <span class="event-type-badge">{{ event.event_type }}</span>
        </div>
        <div class="event-content">
          <h3>{{ event.name }}</h3>
          <p class="event-date">ğŸ“… {{ formatDate(event.start_date) }}</p>
          <p class="event-location">ğŸ“ {{ event.location }}</p>
          <p class="event-theme" *ngIf="event.theme">ğŸ¨ {{ event.theme }}</p>
          <a [routerLink]="['/events', event.id]" class="btn-details">Voir les dÃ©tails</a>
        </div>
      </article>
    </div>
  </section>

  <app-footer></app-footer>
</div>