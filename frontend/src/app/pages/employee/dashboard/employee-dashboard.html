<app-employee-layout>
  <div class="dashboard">
    <header class="page-header">
      <h1>Bienvenue, {{ currentUser?.first_name }} ğŸ‘‹</h1>
      <p>Votre espace de travail Innov'Events</p>
    </header>

    <div class="widgets-grid">
      <!-- Mes tÃ¢ches -->
      <section class="widget">
        <div class="widget-header">
          <h3>âœ… Mes tÃ¢ches en cours</h3>
          <span class="badge">{{ myTasks.length }}</span>
        </div>
        <div *ngIf="myTasks.length === 0" class="empty">Aucune tÃ¢che en attente</div>
        <div class="task-list">
          <div *ngFor="let task of myTasks" class="task-item">
            <div class="task-info">
              <strong>{{ task.title }}</strong>
              <small>{{ task.event_name }} Â· {{ formatDate(task.due_date) }}</small>
            </div>
            <span class="status-badge status-{{ task.status }}">{{ taskStatusLabels[task.status] }}</span>
          </div>
        </div>
      </section>

      <!-- Prochains Ã©vÃ©nements -->
      <section class="widget">
        <div class="widget-header">
          <h3>ğŸ‰ Ã‰vÃ©nements en cours</h3>
          <a routerLink="/employee/events" class="link">Voir tout â†’</a>
        </div>
        <div *ngIf="upcomingEvents.length === 0" class="empty">Aucun Ã©vÃ©nement en cours</div>
        <div class="event-list">
          <a *ngFor="let event of upcomingEvents" [routerLink]="['/employee/events', event.id]" class="event-item">
            <div class="event-info">
              <strong>{{ event.name }}</strong>
              <small>{{ event.client_company || '-' }} Â· {{ formatDate(event.start_date) }}</small>
            </div>
          </a>
        </div>
      </section>

      <!-- Avis en attente -->
      <section class="widget">
        <div class="widget-header">
          <h3>â­ Avis en attente de modÃ©ration</h3>
          <a routerLink="/employee/reviews" class="link">GÃ©rer â†’</a>
        </div>
        <div *ngIf="pendingReviews.length === 0" class="empty">Aucun avis en attente</div>
        <div class="review-list">
          <div *ngFor="let review of pendingReviews.slice(0, 3)" class="review-item">
            <strong>{{ review.author_name }}</strong>
            <small>{{ review.event_name }} Â· {{ 'â­'.repeat(review.rating) }}</small>
          </div>
        </div>
      </section>
    </div>
  </div>
</app-employee-layout>
